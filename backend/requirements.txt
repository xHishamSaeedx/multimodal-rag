# Backend Python dependencies

# FastAPI and web server
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
pydantic>=2.0.0
pydantic-settings>=2.0.0
python-multipart>=0.0.6  # Required for file uploads

# Database clients
qdrant-client>=1.7.0  # Vector database
elasticsearch>=8.0.0,<9.0.0  # BM25 sparse index (Elasticsearch 8.x client for 8.11.0 server)
supabase>=2.0.0  # PostgreSQL-based document store

# ML/AI libraries
numpy<2.0.0  # Pin to NumPy 1.x for compatibility with pandas, matplotlib, numexpr, etc.
sentence-transformers>=2.2.0  # Embeddings (e5-base-v2, etc.)
# PyTorch with CUDA 13.0 support (install from PyTorch index)
--extra-index-url https://download.pytorch.org/whl/cu130
torch>=2.0.0  # Required by sentence-transformers
torchvision>=0.15.0  # Required for some vision models
groq>=0.4.0  # Groq API client for answer generation
openai>=1.0.0  # OpenAI API client for vision processing (GPT-4V)
google-generativeai>=0.3.0  # Google Gemini API client for vision processing

# Document extraction libraries
PyMuPDF>=1.23.0  # PDF extraction (fitz)
python-docx>=1.1.0  # DOCX extraction

# Table extraction libraries (Phase 2)
camelot-py[cv]>=0.11.0  # PDF table extraction (requires ghostscript, tesseract)
tabula-py>=2.5.0  # PDF table extraction fallback (requires Java)

# Image processing libraries (Phase 2)
Pillow>=10.0.0  # Image processing
easyocr>=1.7.0  # OCR for images (optional)
timm>=0.9.0  # SigLIP image embeddings (optional, alternative to CLIP)

# Text processing
langchain==0.3.27  # Text chunking utilities

# Storage
minio>=7.2.0  # S3-compatible storage client for MinIO

# Utilities
python-dotenv>=1.0.0
structlog>=23.2.0  # Structured logging with JSON output

neo4j>=5.15.0